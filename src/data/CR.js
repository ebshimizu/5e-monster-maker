export const CR = [
  {
    cr: '0',
    proficiency: 2,
    ac: 13,
    hpMin: 1,
    hpMax: 6,
    attack: 3,
    dprMin: 0,
    dprMax: 1,
    saveDc: 13,
    numeric: 0,
  },
  {
    cr: '1/8',
    proficiency: 2,
    ac: 13,
    hpMin: 7,
    hpMax: 35,
    attack: 3,
    dprMin: 2,
    dprMax: 3,
    saveDc: 13,
    numeric: 0.125,
  },
  {
    cr: '1/4',
    proficiency: 2,
    ac: 13,
    hpMin: 36,
    hpMax: 49,
    attack: 3,
    dprMin: 4,
    dprMax: 5,
    saveDc: 13,
    numeric: 0.25,
  },
  {
    cr: '1/2',
    proficiency: 2,
    ac: 13,
    hpMin: 50,
    hpMax: 70,
    attack: 3,
    dprMin: 6,
    dprMax: 8,
    saveDc: 13,
    numeric: 0.5,
  },
  {
    cr: '1',
    proficiency: 2,
    ac: 13,
    hpMin: 71,
    hpMax: 85,
    attack: 3,
    dprMin: 9,
    dprMax: 14,
    saveDc: 13,
    numeric: 1,
  },
  {
    cr: '2',
    proficiency: 2,
    ac: 13,
    hpMin: 86,
    hpMax: 100,
    attack: 3,
    dprMin: 15,
    dprMax: 20,
    saveDc: 13,
    numeric: 2,
  },
  {
    cr: '3',
    proficiency: 2,
    ac: 13,
    hpMin: 101,
    hpMax: 115,
    attack: 4,
    dprMin: 21,
    dprMax: 26,
    saveDc: 13,
    numeric: 3,
  },
  {
    cr: '4',
    proficiency: 2,
    ac: 14,
    hpMin: 116,
    hpMax: 130,
    attack: 5,
    dprMin: 27,
    dprMax: 32,
    saveDc: 14,
    numeric: 4,
  },
  {
    cr: '5',
    proficiency: 3,
    ac: 15,
    hpMin: 131,
    hpMax: 145,
    attack: 6,
    dprMin: 33,
    dprMax: 38,
    saveDc: 15,
    numeric: 5,
  },
  {
    cr: '6',
    proficiency: 3,
    ac: 15,
    hpMin: 146,
    hpMax: 160,
    attack: 6,
    dprMin: 39,
    dprMax: 44,
    saveDc: 15,
    numeric: 6,
  },
  {
    cr: '7',
    proficiency: 3,
    ac: 15,
    hpMin: 161,
    hpMax: 175,
    attack: 6,
    dprMin: 45,
    dprMax: 50,
    saveDc: 15,
    numeric: 7,
  },
  {
    cr: '8',
    proficiency: 3,
    ac: 16,
    hpMin: 176,
    hpMax: 190,
    attack: 7,
    dprMin: 51,
    dprMax: 56,
    saveDc: 16,
    numeric: 8,
  },
  {
    cr: '9',
    proficiency: 4,
    ac: 16,
    hpMin: 191,
    hpMax: 205,
    attack: 7,
    dprMin: 57,
    dprMax: 62,
    saveDc: 16,
    numeric: 9,
  },
  {
    cr: '10',
    proficiency: 4,
    ac: 17,
    hpMin: 206,
    hpMax: 220,
    attack: 7,
    dprMin: 63,
    dprMax: 68,
    saveDc: 16,
    numeric: 10,
  },
  {
    cr: '11',
    proficiency: 4,
    ac: 17,
    hpMin: 221,
    hpMax: 235,
    attack: 8,
    dprMin: 69,
    dprMax: 74,
    saveDc: 17,
    numeric: 11,
  },
  {
    cr: '12',
    proficiency: 4,
    ac: 17,
    hpMin: 236,
    hpMax: 250,
    attack: 8,
    dprMin: 75,
    dprMax: 80,
    saveDc: 18,
    numeric: 12,
  },
  {
    cr: '13',
    proficiency: 5,
    ac: 18,
    hpMin: 251,
    hpMax: 265,
    attack: 8,
    dprMin: 81,
    dprMax: 86,
    saveDc: 18,
    numeric: 13,
  },
  {
    cr: '14',
    proficiency: 5,
    ac: 18,
    hpMin: 266,
    hpMax: 280,
    attack: 8,
    dprMin: 87,
    dprMax: 92,
    saveDc: 18,
    numeric: 14,
  },
  {
    cr: '15',
    proficiency: 5,
    ac: 18,
    hpMin: 281,
    hpMax: 295,
    attack: 8,
    dprMin: 93,
    dprMax: 98,
    saveDc: 18,
    numeric: 15,
  },
  {
    cr: '16',
    proficiency: 5,
    ac: 18,
    hpMin: 296,
    hpMax: 310,
    attack: 9,
    dprMin: 99,
    dprMax: 104,
    saveDc: 18,
    numeric: 16,
  },
  {
    cr: '17',
    proficiency: 6,
    ac: 19,
    hpMin: 311,
    hpMax: 325,
    attack: 10,
    dprMin: 105,
    dprMax: 110,
    saveDc: 19,
    numeric: 17,
  },
  {
    cr: '18',
    proficiency: 6,
    ac: 19,
    hpMin: 326,
    hpMax: 340,
    attack: 10,
    dprMin: 111,
    dprMax: 116,
    saveDc: 19,
    numeric: 18,
  },
  {
    cr: '19',
    proficiency: 6,
    ac: 19,
    hpMin: 341,
    hpMax: 355,
    attack: 10,
    dprMin: 117,
    dprMax: 122,
    saveDc: 19,
    numeric: 18,
  },
  {
    cr: '20',
    proficiency: 6,
    ac: 19,
    hpMin: 356,
    hpMax: 400,
    attack: 10,
    dprMin: 123,
    dprMax: 140,
    saveDc: 19,
    numeric: 20,
  },
  {
    cr: '21',
    proficiency: 7,
    ac: 19,
    hpMin: 401,
    hpMax: 445,
    attack: 11,
    dprMin: 141,
    dprMax: 158,
    saveDc: 20,
    numeric: 21,
  },
  {
    cr: '22',
    proficiency: 7,
    ac: 19,
    hpMin: 446,
    hpMax: 490,
    attack: 11,
    dprMin: 159,
    dprMax: 176,
    saveDc: 20,
    numeric: 22,
  },
  {
    cr: '23',
    proficiency: 7,
    ac: 19,
    hpMin: 491,
    hpMax: 535,
    attack: 11,
    dprMin: 177,
    dprMax: 194,
    saveDc: 20,
    numeric: 23,
  },
  {
    cr: '24',
    proficiency: 7,
    ac: 19,
    hpMin: 536,
    hpMax: 580,
    attack: 12,
    dprMin: 195,
    dprMax: 212,
    saveDc: 21,
    numeric: 24,
  },
  {
    cr: '25',
    proficiency: 8,
    ac: 19,
    hpMin: 581,
    hpMax: 625,
    attack: 12,
    dprMin: 213,
    dprMax: 230,
    saveDc: 21,
    numeric: 25,
  },
  {
    cr: '26',
    proficiency: 8,
    ac: 19,
    hpMin: 626,
    hpMax: 670,
    attack: 12,
    dprMin: 231,
    dprMax: 248,
    saveDc: 21,
    numeric: 26,
  },
  {
    cr: '27',
    proficiency: 8,
    ac: 19,
    hpMin: 671,
    hpMax: 715,
    attack: 13,
    dprMin: 249,
    dprMax: 266,
    saveDc: 22,
    numeric: 27,
  },
  {
    cr: '28',
    proficiency: 8,
    ac: 19,
    hpMin: 716,
    hpMax: 760,
    attack: 13,
    dprMin: 267,
    dprMax: 284,
    saveDc: 22,
    numeric: 28,
  },
  {
    cr: '29',
    proficiency: 9,
    ac: 19,
    hpMin: 760,
    hpMax: 805,
    attack: 13,
    dprMin: 285,
    dprMax: 302,
    saveDc: 22,
    numeric: 29,
  },
  {
    cr: '30',
    proficiency: 9,
    ac: 19,
    hpMin: 805,
    hpMax: 850,
    attack: 14,
    dprMin: 303,
    dprMax: 320,
    saveDc: 23,
    numeric: 30,
  },
];

export const CR_SELECT = CR.map((cr, idx) => {
  return { text: cr.cr, value: idx };
});

export function getCRByDamage(damage) {
  // iterate from low to high, return first CR s.t. damage is within min/max
  if (damage <= 0) return CR[0];
  if (damage >= 320) return CR[CR.length - 1];

  for (const cr of CR) {
    if (cr.dprMin <= damage && damage <= cr.dprMax)
      return cr;
  }

  // just in case
  return CR[0];
}

export function getCRByDC(dc) {
  if (dc < 13) return CR[0];
  if (dc >= 23) return CR[CR.length - 1];

  for (const cr of CR) {
    // ascending, trigger on first
    if (dc <= cr.saveDc)
      return cr
  }

  return CR[0];
}

export function getCRByAttack(attack) {
  if (attack < 3) return CR[0];
  if (attack >= 14) return CR[CR.length - 1];

  for (const cr of CR) {
    if (attack <= cr.attack)
      return cr;
  }

  return CR[0];
}

export function getCRByNumber(number) {
  if (number >= 30) return CR[CR.length - 1];

  for (const cr of CR) {
    if (number <= cr.numeric)
      return cr;
  }

  return CR[0];
}

export function getCRByHP(hp) {
  if (hp <= 1) return CR[0];
  if (hp >= 850) return CR[CR.length - 1];

  for (const cr of CR) {
    if (cr.hpMin <= hp && hp < cr.hpMax)
      return cr;
  }

  return CR[0];
}

export function getCRByAC(ac) {
  if (ac <= 13) return CR[0];
  if (ac > 19) return CR[CR.length - 1];

  for (const cr of CR) {
    if (ac <= cr.ac)
      return cr;
  }

  return CR[0];
}